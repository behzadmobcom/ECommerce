function imageZoom(e, t) { var o, i, n, s, d; function f(e) { var t, f, g; e.preventDefault(), t = function (e) { var t, i = 0, n = 0; return e = e || window.event, t = o.getBoundingClientRect(), i = e.pageX - t.left, n = e.pageY - t.top, i -= window.pageXOffset, n -= window.pageYOffset, { x: i, y: n } }(e), f = t.x - i.offsetWidth / 2, g = t.y - i.offsetHeight / 2, f > o.width - i.offsetWidth && (f = o.width - i.offsetWidth), f < 0 && (f = 0), g > o.height - i.offsetHeight && (g = o.height - i.offsetHeight), g < 0 && (g = 0), i.style.left = f + "px", i.style.top = g + "px", n.style.backgroundPosition = "-" + f * s + "px -" + g * d + "px" } o = document.getElementById(e), n = document.getElementById(t), (i = document.createElement("DIV")).setAttribute("class", "img-zoom-lens"), i.setAttribute("id", "img-zoom-lens-id"), i.setAttribute("onmouseover", "openZoom()"), i.setAttribute("onmouseout", "closeZoom()"), o.parentElement.insertBefore(i, o), s = n.offsetWidth / i.offsetWidth, d = n.offsetHeight / i.offsetHeight, n.style.backgroundImage = "url('" + o.src + "')", n.style.backgroundSize = o.width * s + "px " + o.height * d + "px", i.addEventListener("mousemove", f), o.addEventListener("mousemove", f), i.addEventListener("touchmove", f), o.addEventListener("touchmove", f) } function ReImageZoom(e, t) { var o, i, n, s; function d(e) { var t, d, f; e.preventDefault(), t = function (e) { var t, o = 0, i = 0; return e = e || window.event, t = img.getBoundingClientRect(), o = e.pageX - t.left, i = e.pageY - t.top, o -= window.pageXOffset, i -= window.pageYOffset, { x: o, y: i } }(e), d = t.x - o.offsetWidth / 2, f = t.y - o.offsetHeight / 2, d > img.width - o.offsetWidth && (d = img.width - o.offsetWidth), d < 0 && (d = 0), f > img.height - o.offsetHeight && (f = img.height - o.offsetHeight), f < 0 && (f = 0), o.style.left = d + "px", o.style.top = f + "px", i.style.backgroundPosition = "-" + d * n + "px -" + f * s + "px" } img = document.getElementById("myimage" + e), i = document.getElementById(t), o = document.getElementById("img-zoom-lens-id"), img.parentElement.insertBefore(o, img), $('div[TabIndex*="-1"]').remove("img-zoom-lens-id"), n = i.offsetWidth / o.offsetWidth, s = i.offsetHeight / o.offsetHeight, i.style.backgroundImage = "url('" + img.src + "')", i.style.backgroundSize = img.width * n + "px " + img.height * s + "px", o.addEventListener("mousemove", d), img.addEventListener("mousemove", d), o.addEventListener("touchmove", d), img.addEventListener("touchmove", d) }