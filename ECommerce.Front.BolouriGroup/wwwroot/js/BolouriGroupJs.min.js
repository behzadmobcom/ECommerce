const formatter = new Intl.NumberFormat; function RemoveWishList(t) { $.ajax({ type: "Get", url: "/index?handler=RemoveWishList&id=" + t, contentType: "application/json; charset=utf-8", dataType: "json", success: function (t) { swal(t.message), 0 === t.code && location.reload() }, failure: function (t) { alert(t) } }) } function AddWishList(t) { $.ajax({ type: "Get", url: "/index?handler=AddWishList&id=" + t, contentType: "application/json; charset=utf-8", dataType: "json", success: function (t) { swal(t) }, failure: function (t) { swal(t) } }) } var labels = $("label"); function setCities() { var t = $("#state").val(); $.ajax({ type: "Get", url: "Register?handler=CityLoad&id=" + t, contentType: "application/json; charset=utf-8", dataType: "json", success: function (t) { $("#city").html(t) }, failure: function (t) { alert(t) } }) } function OpenProductModal(t) { $.ajax({ type: "Get", url: "/index?handler=QuickView&id=" + t, contentType: "application/json; charset=utf-8", dataType: "json", success: function (t) { if (0 == t.code) { var a = '<div class="row"><div class="col-md-6 col-lg-6"><div class="view-gallery"><img style="width: 250px" src="' + t.returnData.imagePath + '" alt="' + t.returnData.alt + '"><div class="view-list-group mt-4"><label class="view-list-title">اشتراک گذاری:</label><ul class="view-share-list"><li><a class="fab fa-pinterest" href="https://pin.it/4PLGQh2" title="پینترست"></a></li><li><a href="https://www.linkedin.com/in/boloorico-%D8%AA%D8%AC%D9%87%DB%8C%D8%B2%D8%A7%D8%AA-%D8%B5%D9%86%D8%B9%D8%AA%DB%8C-%D8%A8%D9%84%D9%88%D8%B1%DB%8C-506aa6217/" class="fab fa-linkedin-in" title="لینکدین"></a></li><li><a href="https://www.instagram.com/boloorico/" class="fab fa-instagram" title="اینستاگرام"></a></li></ul></div></div></div><div class="col-md-6 col-lg-6"><div class="view-details"><h3 class="view-name"><a asp-area="" asp-page="/Productdetails">' + t.returnData.name + '</a></h3><div class="view-meta"><p><a>مارک تجاری:</a>' + t.returnData.brand + '</p></div><h3 class="view-price"><span>' + formatter.format(t.returnData.price) + '</span></h3><div class="view-list-group"><label class="view-list-title">در انبار:</label> <div id="exist">'; t.returnData.Exist > 0 ? a += "<div>در دسترس</div>" : a += "<div>عدم موجودی</div>", a = a + '</div></div><div class="view-list-group"><label class="view-list-title">برچسب ها:</label><ul class="view-tag-list"></ul></div></div></div></div><div class="row"><div class="col-md-10 col-md-offset-1"><p class="view-desc">' + t.returnData.description + "</p></div></div>", $("#modal_body").html(a), $("#product-view").modal("show") } }, failure: function (t) { alert(t) } }) } function LoadCard() { $("#Cart-List").text(""), $.ajax({ type: "Get", url: "/Index?handler=LoadCart", contentType: "application/json; charset=utf-8", dataType: "json", success: function (t) { $("#Cart-List").append(t.cartList), $("#Cart-Count").text(t.cartCount), $("#Cart-Count1").text(t.cartCount), $("#Cart-Count-Value").val(t.cartCount), $("#Cart-Count-Value-Icon").val(t.cartCount), $("#Cart-Count-Value-Icon1").val(t.cartCount), $("#Cart-Count2").text("کل مورد (" + t.cartCount + ")"), $("#All-Price").text(formatter.format(t.allPrice)), $("#AllPrice-Value").val(t.allPrice) }, failure: function (t) { } }) } function OldLoadCard() { var t = 0, a = 0; $("#Cart-List").text(""), $.get("/index?handler=LoadCart").done((function (e) { $.each(e.returnData, (function (e, s) { var i = '<li class="cart-item" id="CartDrop-' + s.id + '"> <div class="cart-media"><a asp-page="Product" asp-route-productUrl="' + s.url + '"><img src="/' + s.imagePath + '" alt="' + s.alt + '"></a><button class="cart-delete" onclick="DeleteCart(' + s.id + "," + s.productId + "," + s.priceId + ')"><i class="far fa-times"></i></button></div>  <div class="cart-info-group"><div class="cart-info">  <h5><a asp-page="Product" asp-route-productUrl="' + s.url + '">' + s.name + "</a></h5>  <h6>برند : " + s.brand + "</h6>  <h6>رنگ : " + s.colorName + "</h6><p>" + formatter.format(s.priceAmount) + '</p></div><div class="cart-action-group"><div class="product-action"><button class="action-minus" onclick="DecreaseCart(' + s.id + "," + s.productId + "," + s.priceId + ')" title="مقدار منهای"><i class="far fa-minus"></i></button><input class="action-input" title="تعداد" type="text" name="quantity" value="' + s.quantity + '"><button class="action-plus" onclick="AddCart(' + s.productId + "," + s.priceId + ')" title="مقدار به علاوه"><i class="far fa-plus"></i></button></div><h6>' + formatter.format(s.sumPrice) + '</h6><h6>تومان</h6> <input hidden="hidden" value="' + s.sumPrice + '" id="SumPrice-' + s.id + '"/></div></div></li>'; $("#Cart-List").append(i), t++, a += s.sumPrice })), $("#Cart-Count").text(t), $("#Cart-Count1").text(t), $("#Cart-Count-Value").val(t), $("#Cart-Count-Value-Icon").val(t), $("#Cart-Count-Value-Icon1").val(t), $("#Cart-Count2").text("کل مورد (" + t + ")"), $("#All-Price").text(formatter.format(a)), $("#AllPrice-Value").val(a) })) } function AddCart(t, a, e = 1, s = !1) { $.ajax({ type: "Get", url: "/index?handler=AddCart&id=" + t + "&priceId=" + a, contentType: "application/json; charset=utf-8", dataType: "json", success: function (t) { s && swal(t.message), LoadCard() }, failure: function (t) { swal(t) } }) } function DeleteCompare(t) { $.ajax({ type: "Get", url: "/index?handler=DeleteCompare&id=" + t, contentType: "application/json; charset=utf-8", dataType: "json", success: function (t) { 0 === t.code && location.reload() }, failure: function (t) { alert(t) } }) } function AddCompareList(t) { $.ajax({ type: "Get", url: "/index?handler=AddCompareList&id=" + t, contentType: "application/json; charset=utf-8", dataType: "json", success: function (t) { $("#Compare-Count").html(t.returnData), swal(t.message) }, failure: function (t) { swal(t) } }) } function DecreaseCart(t, a, e) { $.ajax({ type: "Get", url: "/index?handler=DecreaseCart&id=" + t + "&productId=" + a + "&priceId=" + e, contentType: "application/json; charset=utf-8", dataType: "json", success: function (t) { LoadCard() }, failure: function (t) { swal(t) } }) } function DeleteCart(t, a, e) { var s = "#CartDrop-" + t, i = parseInt($("#SumPrice-" + t).val()), n = parseInt($("#Cart-Count-Value-Icon").val()), o = (n = parseInt($("#Cart-Count-Value-Icon1").val()), parseInt($("#AllPrice-Value").val())); $.ajax({ type: "Get", url: "/index?handler=DeleteCart&id=" + t + "&productId=" + a + "&priceId=" + e, contentType: "application/json; charset=utf-8", dataType: "json", success: function (t) { swal(t.message), 0 === t.code && ($(s).remove(), n--, o -= i, $("#Cart-Count").text(n), $("#Cart-Count1").text(n), $("#Cart-Count2").text("کل مورد (" + n + ")"), $("#All-Price").text(formatter.format(o)), $("#Cart-Count-Value").val(n), $("#Cart-Count-Value-Icon").val(n), $("#Cart-Count-Value-Icon1").val(n), $("#AllPrice-Value").val(o)) }, failure: function (t) { swal(t) } }) } function SendConfirmSms() { if (username = document.getElementById("userName").value, "" != username) { var t = "", a = !1; if ($.ajax({ type: "Get", url: "/Newlogin?handler=SecondsLeft&username=" + username, contentType: "application/json; charset=utf-8", dataType: "json", async: !1, success: function (e) { 2 == e.code && (t = e.returnData), 1 == e.code && (a = !0) } }), a) swal("این شماره در سایت ثبت نام نکرده است"); else { "" == t && (swal("رمز یکبار مصرف برای شما ارسال شد."), $.ajax({ type: "Get", url: "/Newlogin?handler=SendRegisterSms&username=" + username, contentType: "application/json; charset=utf-8", dataType: "json", async: !1 }), t = "130"), $("#sendSmsButton").disabled = !0; var e = setInterval((function () { var a = Math.trunc(parseInt(t) / 60), s = parseInt(t) - 60 * a; (a = --s < 0 ? --a : a) < 0 && clearInterval(e), s = s < 0 ? 59 : s, $("#countdown").html(a + ":" + s), 0 == (t = 60 * a + s) && (clearInterval(e), $("#countdown").html(""), btnSendActive.addEventListener("click", buttonClicked)) }), 1e3); $("#sendSmsButton").disabled = !1 } } } function SaveStars(t, a) { $.ajax({ type: "Get", url: "/index?handler=SaveStars&id=" + t + "&starNumber=" + a, contentType: "application/json; charset=utf-8", dataType: "json", success: function (t) { swal(t), location.reload() }, failure: function (t) { swal(t) } }) } function CheckPassword() { inputtxt = $("#RegisterViewModel_Password"); /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,30}$/.test(inputtxt.val()) ? $("#passwordHintId").hide() : $("#passwordHintId").show() } function closeZoom() { isOpenModel && ($("#zoomModal").css("display", "none"), $(".img-zoom-lens").css("display", "none"), isOpenModel = !1) } function openZoom() { 0 == isOpenModel && ($("#zoomModal").css("display", "block"), $(".img-zoom-lens").css("display", "block"), isOpenModel = !0) } function ChangeZoomImage(t) { ReImageZoom(t, "myresult"), $("#zoomModal").css("display", "none") } labels.hover((function () { $(this).css("color", "blue").prevUntil().css("color", "blue") }), (function () { $(this).css("color", "inherit").prevUntil().css("color", "inherit"), 1 === $("[name='Commissions'] .checked").length ? $(this + " .rateTitle").html($("[name='Commissions'] .checked").attr("data-rate")) : $(this + " .rateTitle").html("") })), $(".menu_hover").mouseover((function () { var t = "#" + $(this).find("a").attr("Id") + "Panel"; $(".tab-pane").removeClass(" active in "), $(t).addClass(" active in") })), $(document).ready((function () { $("#show_hide_password a").on("click", (function (t) { t.preventDefault(), "text" == $("#show_hide_password input").attr("type") ? ($("#show_hide_password input").attr("type", "password"), $("#show_hide_password i").addClass("fa-eye-slash"), $("#show_hide_password i").removeClass("fa-eye")) : "password" == $("#show_hide_password input").attr("type") && ($("#show_hide_password input").attr("type", "text"), $("#show_hide_password i").removeClass("fa-eye-slash"), $("#show_hide_password i").addClass("fa-eye")) })) })), $(document).ready((function () { $("#show_hide_password1 a").on("click", (function (t) { t.preventDefault(), "text" == $("#show_hide_password1 input").attr("type") ? ($("#show_hide_password1 input").attr("type", "password"), $("#show_hide_password1 i").addClass("fa-eye-slash"), $("#show_hide_password1 i").removeClass("fa-eye")) : "password" == $("#show_hide_password1 input").attr("type") && ($("#show_hide_password1 input").attr("type", "text"), $("#show_hide_password1 i").removeClass("fa-eye-slash"), $("#show_hide_password1 i").addClass("fa-eye")) })) }));