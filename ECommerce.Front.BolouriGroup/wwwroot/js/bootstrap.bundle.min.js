function RemoveWishList(a) { $.ajax({ type: "Get", url: "/index?handler=RemoveWishList&id=" + a, contentType: "application/json; charset=utf-8", dataType: "json", success: function (a) { swal(a.message), 0 === a.code && location.reload() }, failure: function (a) { alert(a) } }) } function AddWishList(a) { $.ajax({ type: "Get", url: "/index?handler=AddWishList&id=" + a, contentType: "application/json; charset=utf-8", dataType: "json", success: function (a) { swal(a) }, failure: function (a) { swal(a) } }) } var labels = $("label"); function ChangePassword() { var a = $("#OldPass").val(), t = $("#NewPass").val(), e = $("#NewConPass").val(); $.ajax({ type: "Get", url: "userProfile?handler=ChangePassword&newPass=" + encodeURIComponent(t) + "&newConPass=" + encodeURIComponent(e) + "&oldPass=" + encodeURIComponent(a), contentType: "application/json; charset=utf-8", dataType: "json", success: function (a) { swal(a.message) }, failure: function (a) { alert(a) } }) } function setCities() { var a = $("#state").val(); $.ajax({ type: "Get", url: "Register?handler=CityLoad&id=" + a, contentType: "application/json; charset=utf-8", dataType: "json", success: function (a) { $("#city").html(a) }, failure: function (a) { alert(a) } }) } function OpenProductModal(a) { alert("guig"), $.ajax({ type: "Get", url: "/index?handler=QuickView&id=" + a, contentType: "application/json; charset=utf-8", dataType: "json", success: function (a) { if (0 == a.code) { var t = '<div class="row"><div class="col-md-6 col-lg-6"><div class="view-gallery"><img style="width: 250px" src="' + a.returnData.imagePath + '" alt="' + a.returnData.alt + '"><div class="view-list-group mt-4"><label class="view-list-title">اشتراک گذاری:</label><ul class="view-share-list"><li><a class="fab fa-pinterest" href="https://pin.it/4PLGQh2" title="پینترست"></a></li><li><a href="https://www.linkedin.com/in/boloorico-%D8%AA%D8%AC%D9%87%DB%8C%D8%B2%D8%A7%D8%AA-%D8%B5%D9%86%D8%B9%D8%AA%DB%8C-%D8%A8%D9%84%D9%88%D8%B1%DB%8C-506aa6217/" class="fab fa-linkedin-in" title="لینکدین"></a></li><li><a href="https://www.instagram.com/boloorico/" class="fab fa-instagram" title="اینستاگرام"></a></li></ul></div></div></div><div class="col-md-6 col-lg-6"><div class="view-details"><h3 class="view-name"><a asp-area="" asp-page="/Productdetails">' + a.returnData.name + '</a></h3><div class="view-meta"><p><a>مارک تجاری:</a>' + a.returnData.brand + '</p></div><h3 class="view-price"><span>' + a.returnData.price + '</span></h3><div class="view-list-group"><label class="view-list-title">در انبار:</label> <div id="exist">'; a.returnData.Exist > 0 ? t += "<div>در دسترس</div>" : t += "<div>عدم موجودی</div>", t = t + '</div></div><div class="view-list-group"><label class="view-list-title">برچسب ها:</label><ul class="view-tag-list"></ul></div></div></div></div><div class="row"><div class="col-md-10 col-md-offset-1"><p class="view-desc">' + a.returnData.description + "</p></div></div>", $("#modal_body").html(t), $("#product-view").modal("show") } }, failure: function (a) { alert(a) } }) } function LoadCard() { var a = 0, t = 0; $("#Cart-List").text(""), $.get("/index?handler=LoadCart").done((function (e) { $.each(e.returnData, (function (e, n) { var i = '<li class="cart-item" id="CartDrop-' + n.id + '"> <div class="cart-media"><a asp-page="Product" asp-route-productUrl="' + n.url + '"><img src="/' + n.imagePath + '" alt="' + n.alt + '"></a><button class="cart-delete" onclick="DeleteCart(' + n.id + "," + n.productId + "," + n.priceId + ')"><i class="far fa-times"></i></button></div>  <div class="cart-info-group"><div class="cart-info">  <h5><a asp-page="Product" asp-route-productUrl="' + n.url + '">' + n.name + "</a></h5>  <h6>برند" + n.brand + "</h6><p>" + n.priceAmount + '</p></div><div class="cart-action-group"><div class="product-action"><button class="action-minus" onclick="DecreaseCart(' + n.id + "," + n.productId + "," + n.priceId + ')" title="مقدار منهای"><i class="far fa-minus"></i></button><input class="action-input" title="تعداد" type="text" name="quantity" value="' + n.quantity + '"><button class="action-plus" onclick="AddCart(' + n.productId + "," + n.priceId + ')" title="مقدار به علاوه"><i class="far fa-plus"></i></button></div><h6>' + n.sumPrice + '</h6><h6>تومان</h6> <input hidden="hidden" value="' + n.sumPrice + '" id="SumPrice-' + n.id + '"/></div></div></li>'; $("#Cart-List").append(i), a++, t += n.sumPrice })), $("#Cart-Count").text(a), $("#Cart-Count-Value").val(a), $("#Cart-Count-Value-Icon").val(a), $("#Cart-Count2").text("کل مورد (" + a + ")"), $("#All-Price").text(t), $("#AllPrice-Value").val(t) })) } function AddCart(a, t) { $.ajax({ type: "Get", url: "/index?handler=AddCart&id=" + a + "&priceId=" + t, contentType: "application/json; charset=utf-8", dataType: "json", success: function (a) { swal(a.message), 0 === a.code && LoadCard() }, failure: function (a) { swal(a) } }) } function DeleteCompare(a) { $.ajax({ type: "Get", url: "/index?handler=DeleteCompare&id=" + a, contentType: "application/json; charset=utf-8", dataType: "json", success: function (a) { 0 === a.code && location.reload() }, failure: function (a) { alert(a) } }) } function AddCompareList(a) { $.ajax({ type: "Get", url: "/index?handler=AddCompareList&id=" + a, contentType: "application/json; charset=utf-8", dataType: "json", success: function (a) { $("#Compare-Count").html(a.returnData), swal(a.message) }, failure: function (a) { swal(a) } }) } function DecreaseCart(a, t, e) { $.ajax({ type: "Get", url: "/index?handler=DecreaseCart&id=" + a + "&productId=" + t + "&priceId=" + e, contentType: "application/json; charset=utf-8", dataType: "json", success: function (a) { swal(a.message), LoadCard() }, failure: function (a) { swal(a) } }) } function DeleteCart(a, t, e) { var n = "#CartDrop-" + a, i = parseInt($("#SumPrice-" + a).val()), s = parseInt($("#Cart-Count-Value-Icon").val()), l = parseInt($("#AllPrice-Value").val()); $.ajax({ type: "Get", url: "/index?handler=DeleteCart&id=" + a + "&productId=" + t + "&priceId=" + e, contentType: "application/json; charset=utf-8", dataType: "json", success: function (a) { swal(a.message), 0 === a.code && ($(n).remove(), s--, l -= i, $("#Cart-Count").text(s), $("#Cart-Count2").text("کل مورد (" + s + ")"), $("#All-Price").text(l + " تومان"), $("#Cart-Count-Value").val(s), $("#Cart-Count-Value-Icon").val(s), $("#AllPrice-Value").val(l)) }, failure: function (a) { swal(a) } }) } function SendConfirmSms() { if (username = document.getElementById("userName").value, "" != username) { var a = ""; $.ajax({ type: "Get", url: "/login?handler=SecondsLeft&username=" + username, contentType: "application/json; charset=utf-8", dataType: "json", async: !1, success: function (t) { 2 == t.code && (a = t.returnData) } }), "" == a && (swal("رمز یکبار مصرف برای شما ارسال شد."), $.ajax({ type: "Get", url: "/login?handler=SendSms&username=" + username, contentType: "application/json; charset=utf-8", dataType: "json", async: !1 }), a = "130"), $("#sendSmsButton").disabled = !0; var t = setInterval((function () { var e = Math.trunc(parseInt(a) / 60), n = parseInt(a) - 60 * e; (e = --n < 0 ? --e : e) < 0 && clearInterval(t), n = n < 0 ? 59 : n, $("#countdown").html(e + ":" + n), 0 == (a = 60 * e + n) && (clearInterval(t), $("#countdown").html(""), btnSendActive.addEventListener("click", buttonClicked)) }), 1e3); $("#sendSmsButton").disabled = !1 } } function SaveStars(a, t) { $.ajax({ type: "Get", url: "/index?handler=SaveStars&id=" + a + "&starNumber=" + t, contentType: "application/json; charset=utf-8", dataType: "json", success: function (a) { swal(a), location.reload() }, failure: function (a) { swal(a) } }) } function CheckPassword() { inputtxt = $("#RegisterViewModel_Password"); /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,30}$/.test(inputtxt.val()) ? $("#passwordHintId").hide() : $("#passwordHintId").show() } labels.hover((function () { $(this).css("color", "blue").prevUntil().css("color", "blue") }), (function () { $(this).css("color", "inherit").prevUntil().css("color", "inherit"), 1 === $("[name='Commissions'] .checked").length ? $(this + " .rateTitle").html($("[name='Commissions'] .checked").attr("data-rate")) : $(this + " .rateTitle").html("") })), $(".menu_hover").mouseover((function () { var a = "#" + $(this).find("a").attr("Id") + "Panel"; $(".tab-pane").removeClass(" active in "), $(a).addClass(" active in") }));