@page
@model ECommerce.Front.BolouriGroup.Pages.WishlistModel
@{
    ViewData["Title"] = "لیست علاقه مندیها";
}


<section class="inner-section single-banner">
    <div class="container">
        <h2>لیست علاقه مندیها</h2>
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a asp-area="" asp-page="/Index">خانه</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">لیست علاقه مندیها</li>
        </ol>
    </div>
</section>


<section class="inner-section wishlist-part">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="table-scroll">
                    <table class="table-list">
                        <thead>
                        <tr>
                            <th scope="col">تصویر محصول</th>
                            <th scope="col">نام</th>
                            <th scope="col">قیمت</th>
                            <th scope="col">نام تجاری</th>
                            <th scope="col">عملیات</th>
                        </tr>
                        </thead>
                        <tbody>
                        @foreach (var wish in Model.WishList.ReturnData)
                        {
                            <tr>
                                <td class="table-image">
                                    <img src="~/@wish.ImagePath" alt="@wish.Alt">
                                </td>
                                <td class="table-name">
                                    <h6>
                                        <a asp-page="Product" asp-route-productId="@wish.Url">@wish.Name</a>
                                    </h6>
                                </td>
                                <td class="table-price">
                                    <h6>
                                            @wish.Price.ToString("N0") تومان
                                    </h6>
                                </td>
                                <td class="table-vendor">
                                        <h6>@wish.Brand</h6>
                                </td>
                                <td class="table-action">
                                    <a href="javascript:void(0)" onclick="AddCart(@wish.ProductId,@wish.PriceId,1)" title="اضافه کردن به سبد خرید">
                                            <i class="far fa-shopping-cart"></i>
                                    </a>
                                        <a href="javascript:void(0)" onclick="RemoveWish(@wish.Id,1)" title="حذف">
                                            <i class="far fa-window-close"></i>
                                    </a>
                                </td>
                            </tr>
                        }  </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>


<section class="news-part">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-5 col-lg-6 col-xl-7">
                <div class="news-text">
                    <h2>برای به روزرسانی خبرنامه ما مشترک شوید</h2>
                    <p>تنوع زیادی از معابر سنگ معدن سنگ معدن موجود است</p>
                </div>
            </div>
            <div class="col-md-7 col-lg-6 col-xl-5">
                <form class="news-form">
                    <input type="text" placeholder="آدرس ایمیل خود را وارد کنید">
                    <button>
                        <span> اشتراک <i class="far fa-paper-plane"></i> </span>
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>
@section Scripts
    {
    <script>
        function RemoveWish(id) {
            $.ajax({
                type: "Get",
                url: "/index?handler=RemoveWishList&id=" + id,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (result) {
                    swal(result.message);
                    if (result.code === 0) {
                        var elementId = "#wishlist-" + id;
                        $(elementId).remove();
                    }
                },
                failure: function (response) {
                    alert(response);
                }
            });
        }
    </script>
}